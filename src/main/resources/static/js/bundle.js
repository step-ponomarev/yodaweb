var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function c(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let m;function g(t){m=t}function v(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(t)}const h=[],b=[],$=[],y=[],_=Promise.resolve();let k=!1;function x(t){$.push(t)}let w=!1;const L=new Set;function A(){if(!w){w=!0;do{for(let t=0;t<h.length;t+=1){const e=h[t];g(e),E(e.$$)}for(h.length=0;b.length;)b.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];L.has(e)||(L.add(e),e())}$.length=0}while(h.length);for(;y.length;)y.pop()();k=!1,w=!1,L.clear()}}function E(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const F=new Set;let M;function T(t,e){t&&t.i&&(F.delete(t),t.i(e))}function H(t,e,n,o){if(t&&t.o){if(F.has(t))return;F.add(t),M.c.push(()=>{F.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function O(t){t&&t.c()}function S(t,n,r){const{fragment:l,on_mount:c,on_destroy:a,after_update:i}=t.$$;l&&l.m(n,r),x(()=>{const n=c.map(e).filter(s);a?a.push(...n):o(n),t.$$.on_mount=[]}),i.forEach(x)}function j(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(h.push(t),k||(k=!0,_.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(e,s,r,l,c,a,u=[-1]){const f=m;g(e);const d=s.props||{},p=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:u};let v=!1;if(p.ctx=r?r(e,d,(t,n,...o)=>{const s=o.length?o[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=s)&&(p.bound[t]&&p.bound[t](s),v&&q(e,t)),n}):[],p.update(),v=!0,o(p.before_update),p.fragment=!!l&&l(p.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);p.fragment&&p.fragment.l(t),t.forEach(i)}else p.fragment&&p.fragment.c();s.intro&&T(e.$$.fragment),S(e,s.target,s.anchor),A()}g(f)}class N{$destroy(){j(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function C(e){let n;return{c(){n=u("nav"),n.innerHTML='<div class="nav_content svelte-1cvlnyp"><figure class="nav_profile svelte-1cvlnyp"><div class="avatar svelte-1cvlnyp"><img src="https://avatars.yandex.net/get-music-content/2399641/3a745939.p.7448207/400x400" alt="Молодой Платон" class="svelte-1cvlnyp"></div> \n      <figcaption class="svelte-1cvlnyp">Молодой Платон</figcaption></figure> \n\n    <div class="nav_items svelte-1cvlnyp"><div class="nav_item svelte-1cvlnyp">Item 1</div> \n      <div class="nav_item svelte-1cvlnyp">Item 2</div> \n      <div class="nav_item svelte-1cvlnyp">Item 3</div></div></div>',p(n,"class","svelte-1cvlnyp")},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&i(n)}}}class D extends N{constructor(t){super(),I(this,t,null,C,r,{})}}const R=[];function B(e,n=t){let o;const s=[];function l(t){if(r(e,t)&&(e=t,o)){const t=!R.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),R.push(n,e)}if(t){for(let t=0;t<R.length;t+=2)R[t][0](R[t+1]);R.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(r,c=t){const a=[r,c];return s.push(a),1===s.length&&(o=n(l)||t),r(e),()=>{const t=s.indexOf(a);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}const P=B(""),X=B(""),z=B(null);function J(t){let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let t=0;t<n.length;t++){let o=n[t];for(;" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}function K(e){let n,o,s,r,l,f,m,g,v,h,b,$,y;return{c(){n=u("div"),o=u("div"),s=u("form"),r=u("div"),r.innerHTML='<h2 class="svelte-1kloga2">please log in</h2> \n        <a href="/register" class="regLink svelte-1kloga2">sign up</a>',l=d(),f=u("label"),f.innerHTML='<div class="inputAround__text svelte-1kloga2" name="label-div">username</div> \n\n        <input type="text" id="username" name="username" class="loginForm__input svelte-1kloga2" required="">',m=d(),g=u("label"),g.innerHTML='<div class="inputAround__text svelte-1kloga2" name="label-div">password</div> \n\n        <input type="password" id="password" name="password" class="loginForm__input svelte-1kloga2" required="">',v=d(),h=u("div"),h.innerHTML='<button class="loginForm__submitButton svelte-1kloga2" type="submit">log in</button> \n        <label class="checkbox-label svelte-1kloga2"><input type="checkbox" name="remember-me" class="defCheckMark">\n          remember me\n        </label>',b=d(),$=u("input"),p(r,"class","loginForm__title svelte-1kloga2"),p(f,"class","inputAround svelte-1kloga2"),p(g,"class","inputAround svelte-1kloga2"),p(h,"class","loginForm__buttonArea svelte-1kloga2"),p($,"id","_csrf"),p($,"name","_csrf"),p($,"type","hidden"),$.value=e[0],p(s,"class","loginForm svelte-1kloga2"),p(o,"class","container svelte-1kloga2"),p(n,"class","login svelte-1kloga2")},m(t,i,u){var d,p,_,k;a(t,n,i),c(n,o),c(o,s),c(s,r),c(s,l),c(s,f),c(s,m),c(s,g),c(s,v),c(s,h),c(s,b),c(s,$),u&&y(),d=s,p="submit",_=e[1],d.addEventListener(p,_,k),y=()=>d.removeEventListener(p,_,k)},p(t,[e]){1&e&&($.value=t[0])},i:t,o:t,d(t){t&&i(n),y()}}}function U(t,e,n){let o;l(t,X,t=>n(0,o=t));return[o,async function(t){const e=new XMLHttpRequest,n=new FormData(t.target);e.open("POST","/login"),e.send(n),e.onload=()=>{200==e.status&&(async()=>{const t=await fetch("/user",{redirect:"manual"});if(t.ok){let e=await t.json();z.set(e)}else alert("kek!")})().catch(t=>{alert(t)})},t.target.username.value="",t.target.password.value="",t.preventDefault()}]}class G extends N{constructor(t){super(),I(this,t,U,K,r,{})}}function Q(t){let e,n,o,s,r,l;const m=new D({});return{c(){e=u("div"),n=u("header"),O(m.$$.fragment),o=d(),s=u("main"),s.innerHTML='<a href="/logout">Logout</a>',r=f("\n    >"),p(s,"class","svelte-jqo4be"),p(e,"class","app svelte-jqo4be")},m(t,i){a(t,e,i),c(e,n),S(m,n,null),c(e,o),c(e,s),c(e,r),l=!0},i(t){l||(T(m.$$.fragment,t),l=!0)},o(t){H(m.$$.fragment,t),l=!1},d(t){t&&i(e),j(m)}}}function V(t){let e;const n=new G({});return{c(){O(n.$$.fragment)},m(t,o){S(n,t,o),e=!0},i(t){e||(T(n.$$.fragment,t),e=!0)},o(t){H(n.$$.fragment,t),e=!1},d(t){j(n,t)}}}function W(t){let e,n,s,r;const l=[V,Q],c=[];function u(t,e){return t[0]?1:0}return e=u(t),n=c[e]=l[e](t),{c(){n.c(),s=f("")},m(t,n){c[e].m(t,n),a(t,s,n),r=!0},p(t,[r]){let a=e;e=u(t),e!==a&&(M={r:0,c:[],p:M},H(c[a],1,1,()=>{c[a]=null}),M.r||o(M.c),M=M.p,n=c[e],n||(n=c[e]=l[e](t),n.c()),T(n,1),n.m(s.parentNode,s))},i(t){r||(T(n),r=!0)},o(t){H(n),r=!1},d(t){c[e].d(t),t&&i(s)}}}function Y(t,e,n){let o;return l(t,z,t=>n(0,o=t)),v(async()=>{const t=await fetch("/user",{redirect:"manual"});if(t.ok){let e=await t.json();z.set(e)}}),function(){const t=J("JSESSIONID"),e=J("XSRF-TOKEN");P.set(t),X.set(e)}(),[o]}return new class extends N{constructor(t){super(),I(this,t,Y,W,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
