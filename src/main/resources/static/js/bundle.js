var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function c(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function m(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let h;function v(t){h=t}function g(){if(!h)throw new Error("Function called outside component initialization");return h}const b=[],x=[],$=[],y=[],w=Promise.resolve();let k=!1;function _(t){$.push(t)}let C=!1;const E=new Set;function j(){if(!C){C=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];v(e),A(e.$$)}for(b.length=0;x.length;)x.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];E.has(e)||(E.add(e),e())}$.length=0}while(b.length);for(;y.length;)y.pop()();k=!1,C=!1,E.clear()}}function A(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const O=new Set;let T;function F(){T={r:0,c:[],p:T}}function I(){T.r||s(T.c),T=T.p}function L(t,e){t&&t.i&&(O.delete(t),t.i(e))}function N(t,e,n,s){if(t&&t.o){if(O.has(t))return;O.add(t),T.c.push(()=>{O.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function S(t){t&&t.c()}function R(t,n,l){const{fragment:r,on_mount:c,on_destroy:i,after_update:u}=t.$$;r&&r.m(n,l),_(()=>{const n=c.map(e).filter(o);i?i.push(...n):s(n),t.$$.on_mount=[]}),u.forEach(_)}function D(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(b.push(t),k||(k=!0,w.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(e,o,l,r,c,i,a=[-1]){const f=h;v(e);const d=o.props||{},m=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:a};let p=!1;if(m.ctx=l?l(e,d,(t,n,...s)=>{const o=s.length?s[0]:n;return m.ctx&&c(m.ctx[t],m.ctx[t]=o)&&(m.bound[t]&&m.bound[t](o),p&&q(e,t)),n}):[],m.update(),p=!0,s(m.before_update),m.fragment=!!r&&r(m.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();o.intro&&L(e.$$.fragment),R(e,o.target,o.anchor),j()}v(f)}class H{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const P=[];function M(e,n=t){let s;const o=[];function r(t){if(l(e,t)&&(e=t,s)){const t=!P.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),P.push(n,e)}if(t){for(let t=0;t<P.length;t+=2)P[t][0](P[t+1]);P.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(l,c=t){const i=[l,c];return o.push(i),1===o.length&&(s=n(r)||t),l(e),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}const G=M(""),U=M(""),X=M(null),Z=M("LOGIN");function K(e){let n,o,l,r,f,h,v,g,b,x,$,y,w,k,_,C,E,j,A,O,T;return{c(){n=a("div"),o=a("div"),l=a("form"),r=a("div"),r.innerHTML='<h2 class="svelte-19a25bx">please log in</h2>',f=d(),h=a("label"),v=a("div"),v.textContent="username",g=d(),b=a("input"),x=d(),$=a("label"),y=a("div"),y.textContent="password",w=d(),k=a("input"),_=d(),C=a("div"),C.innerHTML='<button class="loginForm__submitButton svelte-19a25bx" type="submit">log in</button> \n                <label class="checkbox-label svelte-19a25bx"><input type="checkbox" name="remember-me" class="defCheckMark">\n                    remember me\n                </label>',E=d(),j=a("a"),j.textContent="sign up",A=d(),O=a("input"),p(r,"class","loginForm__title svelte-19a25bx"),p(v,"class","inputAround__text svelte-19a25bx"),p(v,"name","label-div"),p(b,"type","text"),p(b,"id","username"),p(b,"name","username"),p(b,"class","loginForm__input svelte-19a25bx"),b.required=!0,p(h,"class","inputAround svelte-19a25bx"),p(y,"class","inputAround__text svelte-19a25bx"),p(y,"name","label-div"),p(k,"type","password"),p(k,"id","password"),p(k,"name","password"),p(k,"class","loginForm__input svelte-19a25bx"),k.required=!0,p($,"class","inputAround svelte-19a25bx"),p(C,"class","loginForm__buttonArea svelte-19a25bx"),p(j,"class","regLink svelte-19a25bx"),p(O,"id","_csrf"),p(O,"name","_csrf"),p(O,"type","hidden"),O.value=e[2],p(l,"class","loginForm svelte-19a25bx"),p(o,"class","container svelte-19a25bx"),p(n,"class","login svelte-19a25bx")},m(t,u,a){i(t,n,u),c(n,o),c(o,l),c(l,r),c(l,f),c(l,h),c(h,v),e[5](v),c(h,g),c(h,b),c(l,x),c(l,$),c($,y),e[8](y),c($,w),c($,k),c(l,_),c(l,C),c(l,E),c(l,j),c(l,A),c(l,O),a&&s(T),T=[m(b,"focus",e[6]),m(b,"focusout",e[7]),m(k,"focus",e[9]),m(k,"focusout",e[10]),m(j,"click",e[11]),m(l,"submit",e[3])]},p(t,[e]){4&e&&(O.value=t[2])},i:t,o:t,d(t){t&&u(n),e[5](null),e[8](null),s(T)}}}function z(t,e,n){let s,o,l;r(t,U,t=>n(2,s=t));const c=async()=>{const t=await fetch("/user",{redirect:"manual"});if(t.ok){let e=await t.json();X.set(e),Z.set("AUTHORIZED"),window.location.pathname="/"}else alert("Invalid login or password.")};return[o,l,s,async function(t){const e=new XMLHttpRequest,n=new FormData(t.target);e.open("POST","/login"),e.send(n),e.onload=()=>{200==e.status&&c().catch(t=>{alert(t)})},t.target.username.value="",t.target.password.value="",t.preventDefault()},c,function(t){x[t?"unshift":"push"](()=>{n(0,o=t)})},()=>{n(0,o.style.color="rgb(73, 160, 235)",o)},()=>{n(0,o.style.color="rgb(125, 138, 150)",o)},function(t){x[t?"unshift":"push"](()=>{n(1,l=t)})},()=>{n(1,l.style.color="rgb(73, 160, 235)",l)},()=>{n(1,l.style.color="rgb(125, 138, 150)",l)},()=>{Z.set("REGISTRATION"),window.location.pathname="/"}]}class J extends H{constructor(t){super(),B(this,t,z,K,l,{})}}class V extends Error{constructor(t){super(t),this.name="ValidationError"}}const Q=/^[a-zA-Z]\w{5,25}$/,W=/^\w{8,28}$/;function Y(e){let n,s,o=e[17].message+"";return{c(){n=a("p"),s=f(o)},m(t,e){i(t,n,e),c(n,s)},p:t,d(t){t&&u(n)}}}function tt(e){return{c:t,m:t,p:t,d:t}}function et(e){let n;return{c(){n=a("p"),n.textContent="..."},m(t,e){i(t,n,e)},p:t,d(t){t&&u(n)}}}function nt(e){let n,o,l,r,f,h,b,x,$,y,w,k,_,C,E,A,O,T,S,R,D,q,B,H,P,M,G,U,X,Z={ctx:e,current:null,token:null,pending:et,then:tt,catch:Y,error:17};return function(t,e){const n=e.token={};function s(t,s,o,l){if(e.token!==n)return;e.resolved=l;let r=e.ctx;void 0!==o&&(r=r.slice(),r[o]=l);const c=t&&(e.current=t)(r);let i=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==s&&t&&(F(),N(t,1,1,()=>{e.blocks[n]=null}),I())}):e.block.d(1),c.c(),L(c,1),c.m(e.mount(),e.anchor),i=!0),e.block=c,e.blocks&&(e.blocks[s]=c),i&&j()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=g();if(t.then(t=>{v(n),s(e.then,1,e.value,t),v(null)},t=>{v(n),s(e.catch,2,e.error,t),v(null)}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}var o}(l=e[4],Z),{c(){n=a("div"),o=a("div"),Z.block.c(),r=d(),f=a("form"),h=a("div"),h.innerHTML='<h2 class="svelte-16jdvua">please sign up</h2>',b=d(),x=a("label"),$=a("div"),$.textContent="username",y=d(),w=a("input"),k=d(),_=a("label"),C=a("div"),C.textContent="password",E=d(),A=a("input"),O=d(),T=a("label"),S=a("div"),S.textContent="confirm password",R=d(),D=a("input"),q=d(),B=a("div"),H=a("button"),H.textContent="register",P=d(),M=a("a"),M.textContent="sign in",G=d(),U=a("input"),p(h,"class","loginForm__title svelte-16jdvua"),p($,"class","inputAround__text svelte-16jdvua"),p($,"name","label-div"),p(w,"type","text"),p(w,"id","username"),p(w,"name","username"),p(w,"class","loginForm__input svelte-16jdvua"),w.required=!0,p(x,"class","inputAround svelte-16jdvua"),p(C,"class","inputAround__text svelte-16jdvua"),p(C,"name","label-div"),p(A,"type","password"),p(A,"id","password"),p(A,"name","password"),p(A,"class","loginForm__input svelte-16jdvua"),A.required=!0,p(_,"class","inputAround svelte-16jdvua"),p(S,"class","inputAround__text svelte-16jdvua"),p(S,"name","label-div"),p(D,"type","password"),p(D,"id","confirmPassword"),p(D,"name","confirmPassword"),p(D,"class","loginForm__input svelte-16jdvua"),D.required=!0,p(T,"class","inputAround svelte-16jdvua"),p(H,"class","loginForm__submitButton svelte-16jdvua"),p(H,"type","button"),p(B,"class","loginForm__buttonArea svelte-16jdvua"),p(M,"href","/"),p(M,"class","loginLink svelte-16jdvua"),p(U,"id","_csrf"),p(U,"name","_csrf"),p(U,"type","hidden"),U.value=e[3],p(f,"class","registrationForm svelte-16jdvua"),p(f,"id","registrationFrom"),p(o,"class","container svelte-16jdvua"),p(n,"class","registration svelte-16jdvua")},m(t,l,u){i(t,n,l),c(n,o),Z.block.m(o,Z.anchor=null),Z.mount=()=>o,Z.anchor=r,c(o,r),c(o,f),c(f,h),c(f,b),c(f,x),c(x,$),e[7]($),c(x,y),c(x,w),c(f,k),c(f,_),c(_,C),e[10](C),c(_,E),c(_,A),c(f,O),c(f,T),c(T,S),e[13](S),c(T,R),c(T,D),c(f,q),c(f,B),c(B,H),c(f,P),c(f,M),c(f,G),c(f,U),u&&s(X),X=[m(w,"focus",e[8]),m(w,"focusout",e[9]),m(A,"focus",e[11]),m(A,"focusout",e[12]),m(D,"focus",e[14]),m(D,"focusout",e[15]),m(H,"click",e[5]),m(M,"click",e[16])]},p(t,[n]){{const s=(e=t).slice();Z.block.p(s,n)}8&n&&(U.value=e[3])},i:t,o:t,d(t){t&&u(n),Z.block.d(),Z.token=null,Z=null,e[7](null),e[10](null),e[13](null),s(X)}}}function st(t,e,n){let s,o,l,c;r(t,U,t=>n(3,s=t));let i=[];const u=a();async function a(){const t=document.querySelector("#registrationFrom");i=Array(0);const e=t.username.value,n=t.password.value,o=t.confirmPassword.value,l=function(t){return Q.test(t)}(e),r=function(t){return W.test(t)}(n),c=o===n;if(!(l&&r&&c)){if(!l)throw new V("invalid username");if(!r)throw new V("invalid username");if(!c)throw new V("password mismatch")}const u={username:e,password:n,userRole:"USER"};let a=await fetch("/registration",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8","X-XSRF-TOKEN":s},body:JSON.stringify(u)});if(!a.ok)throw new Error("server not found");if("true"!==await a.text())throw new V("user with that username already exists");Z.set("LOGIN"),window.location.pathname="/";t.password.value="",t.confirmPassword.value=""}return[o,l,c,s,u,a,i,function(t){x[t?"unshift":"push"](()=>{n(0,o=t)})},()=>{n(0,o.style.color="rgb(73, 160, 235)",o)},()=>{n(0,o.style.color="rgb(125, 138, 150)",o)},function(t){x[t?"unshift":"push"](()=>{n(1,l=t)})},()=>{n(1,l.style.color="rgb(73, 160, 235)",l)},()=>{n(1,l.style.color="rgb(125, 138, 150)",l)},function(t){x[t?"unshift":"push"](()=>{n(2,c=t)})},()=>{n(2,c.style.color="rgb(73, 160, 235)",c)},()=>{n(2,c.style.color="rgb(125, 138, 150)",c)},()=>{Z.set("LOGIN")}]}class ot extends H{constructor(t){super(),B(this,t,st,nt,l,{})}}function lt(e){let n,s,o,l,r,f,h,v,g,b,x,$,y,w,k;return{c(){n=a("div"),s=a("div"),o=a("div"),o.innerHTML='<img id="personalPicture" src="../image/m1000x1000.jpeg" class="svelte-17hlfxg">',l=d(),r=a("div"),f=a("div"),f.textContent=`@${it}`,h=d(),v=a("div"),v.textContent=`${rt}`,g=d(),b=a("div"),b.textContent=`${ct}`,x=d(),$=a("div"),$.innerHTML='<div class="inbox boxButton svelte-17hlfxg">Выходящие</div> \n        <div class="boxButton svelte-17hlfxg">Сегодня</div> \n        <div class="boxButton svelte-17hlfxg">На неделе</div> \n        <div class="boxButton svelte-17hlfxg">Позже</div>',y=d(),w=a("div"),w.textContent="logout",p(o,"class","imageBlock svelte-17hlfxg"),p(f,"class","login svelte-17hlfxg"),p(v,"class","name"),p(b,"class","surname"),p(r,"class","infoBlock svelte-17hlfxg"),p(s,"class","personalPart svelte-17hlfxg"),p($,"class","boxesPart svelte-17hlfxg"),p(w,"class","logoutButton svelte-17hlfxg"),p(n,"class","content svelte-17hlfxg")},m(t,u,a){i(t,n,u),c(n,s),c(s,o),c(s,l),c(s,r),c(r,f),c(r,h),c(r,v),c(r,g),c(r,b),c(n,x),c(n,$),c(n,y),c(n,w),a&&k(),k=m(w,"click",e[0])},p:t,i:t,o:t,d(t){t&&u(n),k()}}}let rt="Молодой",ct="Платон",it="molodoy2003";function ut(t,e,n){let s;return r(t,U,t=>n(1,s=t)),[async function(){(await fetch("/logout",{method:"POST",redirect:"/",headers:{"Content-Type":"application/json;charset=utf-8","X-XSRF-TOKEN":s}})).ok&&await Z.set("LOGIN")}]}class at extends H{constructor(t){super(),B(this,t,ut,lt,l,{})}}function ft(e){let n,o,l,r,f,h,v;return{c(){n=a("div"),o=a("label"),o.textContent=">",l=d(),r=a("input"),f=d(),h=a("label"),h.textContent="#add",p(o,"id","arrowLabel"),p(o,"class","svelte-ybu00q"),p(r,"type","text"),p(r,"spellcheck","false"),p(r,"placeholder","Добавить новую задача"),p(r,"class","svelte-ybu00q"),p(h,"id","addLabel"),p(h,"class","svelte-ybu00q"),p(n,"class","addTaskBlock svelte-ybu00q")},m(t,u,a){i(t,n,u),c(n,o),e[8](o),c(n,l),c(n,r),e[9](r),c(n,f),c(n,h),e[10](h),e[11](n),a&&s(v),v=[m(r,"keypress",e[4]),m(r,"focus",e[6]),m(r,"focusout",e[7]),m(h,"click",e[5])]},p:t,i:t,o:t,d(t){t&&u(n),e[8](null),e[9](null),e[10](null),e[11](null),s(v)}}}function dt(t,e,n){let s,o,l,r;function c(){r.value.trim(),n(3,r.value="",r)}return[s,o,l,r,function(t){13===t.keyCode&&c()},c,function(){n(0,s.style.borderColor="rgb(73, 160, 235)",s),n(1,o.style.color="rgb(73, 160, 235)",o),n(2,l.style.color="rgb(123, 177, 70)",l)},function(){n(0,s.style.borderColor="rgb(125, 138, 150)",s),n(1,o.style.color="rgb(125, 138, 150)",o),n(2,l.style.color="rgb(125, 138, 150)",l),n(2,l.style.textShadow="none",l)},function(t){x[t?"unshift":"push"](()=>{n(1,o=t)})},function(t){x[t?"unshift":"push"](()=>{n(3,r=t)})},function(t){x[t?"unshift":"push"](()=>{n(2,l=t)})},function(t){x[t?"unshift":"push"](()=>{n(0,s=t)})}]}class mt extends H{constructor(t){super(),B(this,t,dt,ft,l,{})}}function pt(e){let n,s,l,r,c,f;return{c(){n=a("input"),l=d(),r=a("label"),p(n,"type","checkbox"),p(n,"id",s="task-"+e[0]),p(n,"class","css-checkbox svelte-l9citf"),p(r,"for",c="task-"+e[0]),p(r,"class","css-label svelte-l9citf")},m(t,s,c){i(t,n,s),i(t,l,s),i(t,r,s),c&&f(),f=m(n,"click",(function(){o(e[1])&&e[1].apply(this,arguments)}))},p(t,[o]){e=t,1&o&&s!==(s="task-"+e[0])&&p(n,"id",s),1&o&&c!==(c="task-"+e[0])&&p(r,"for",c)},i:t,o:t,d(t){t&&u(n),t&&u(l),t&&u(r),f()}}}function ht(t,e,n){let{id:s}=e,{checkEvent:o}=e;return t.$set=t=>{"id"in t&&n(0,s=t.id),"checkEvent"in t&&n(1,o=t.checkEvent)},[s,o]}class vt extends H{constructor(t){super(),B(this,t,ht,pt,l,{id:0,checkEvent:1})}}function gt(t){let e,n,o,l,r,h,v;const g=new vt({props:{checkEvent:t[4],id:t[0]}});return{c(){e=a("div"),S(g.$$.fragment),n=d(),o=a("div"),l=a("div"),r=f(t[1]),p(l,"class","statementField svelte-1ldcfnm"),p(l,"contenteditable","true"),p(l,"type","text"),p(l,"spellcheck","false"),p(l,"onautocomplete","false"),p(o,"class","taskBlock svelte-1ldcfnm"),p(e,"class","content svelte-1ldcfnm")},m(u,a,f){i(u,e,a),R(g,e,null),c(e,n),c(e,o),c(o,l),c(l,r),t[11](l),t[12](e),h=!0,f&&s(v),v=[m(l,"keypress",t[5]),m(l,"focus",t[6]),m(l,"focusout",t[7]),m(l,"paste",bt),m(o,"click",t[8])]},p(t,[e]){const n={};1&e&&(n.id=t[0]),g.$set(n),(!h||2&e)&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(r,t[1])},i(t){h||(L(g.$$.fragment,t),h=!0)},o(t){N(g.$$.fragment,t),h=!1},d(n){n&&u(e),D(g),t[11](null),t[12](null),s(v)}}}function bt(t){const e=t.clipboardData.getData("text");document.execCommand("insertHTML",!1,e),t.preventDefault()}function xt(t,e,n){let s,o,l,r,{id:c}=e,{statement:i}=e;return t.$set=t=>{"id"in t&&n(0,c=t.id),"statement"in t&&n(1,i=t.statement)},[c,i,s,o,function(t){t.target.checked?(n(3,o.style.color="rgb(58, 68, 76)",o),n(3,o.style.textDecoration="line-through",o)):(n(3,o.style.color="white",o),n(3,o.style.textDecoration="none",o))},function(t){13===t.keyCode&&(t.target.blur(),o.preventDefault())},function(t){l=t.target.textContent.trim()},function(t){r=t.target.textContent.trim(),0===r.length&&(t.target.textContent=l)},function(){o.focus()},l,r,function(t){x[t?"unshift":"push"](()=>{n(3,o=t)})},function(t){x[t?"unshift":"push"](()=>{n(2,s=t)})}]}class $t extends H{constructor(t){super(),B(this,t,xt,gt,l,{id:0,statement:1})}}function yt(t,e,n){const s=t.slice();return s[1]=e[n],s}function wt(e){let n;const s=new $t({props:{id:e[1].id,statement:e[1].statement}});return{c(){S(s.$$.fragment)},m(t,e){R(s,t,e),n=!0},p:t,i(t){n||(L(s.$$.fragment,t),n=!0)},o(t){N(s.$$.fragment,t),n=!1},d(t){D(s,t)}}}function kt(t){let e,n,s=t[0],o=[];for(let e=0;e<s.length;e+=1)o[e]=wt(yt(t,s,e));const l=t=>N(o[t],1,1,()=>{o[t]=null});return{c(){e=a("div");for(let t=0;t<o.length;t+=1)o[t].c();p(e,"class","taskPane svelte-9nnqe7")},m(t,s){i(t,e,s);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(1&n){let r;for(s=t[0],r=0;r<s.length;r+=1){const l=yt(t,s,r);o[r]?(o[r].p(l,n),L(o[r],1)):(o[r]=wt(l),o[r].c(),L(o[r],1),o[r].m(e,null))}for(F(),r=s.length;r<o.length;r+=1)l(r);I()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)L(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)N(o[t]);n=!1},d(t){t&&u(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(o,t)}}}function _t(t){return[[{id:1,statement:"Купить игрушку дьяволы"},{id:2,statement:"Научить енота пользоваться телевизором"},{id:3,statement:"Позвонить Максу Дорофееву"},{id:4,statement:"Научить маму пользоваться девтулзами"}]]}class Ct extends H{constructor(t){super(),B(this,t,_t,kt,l,{})}}function Et(e){let n,s,o,l,r,f;const m=new at({}),h=new mt({}),v=new Ct({});return{c(){n=a("div"),s=a("header"),S(m.$$.fragment),o=d(),l=a("main"),S(h.$$.fragment),r=d(),S(v.$$.fragment),p(s,"class","svelte-iih49r"),p(l,"class","svelte-iih49r"),p(n,"class","app svelte-iih49r")},m(t,e){i(t,n,e),c(n,s),R(m,s,null),c(n,o),c(n,l),R(h,l,null),c(l,r),R(v,l,null),f=!0},p:t,i(t){f||(L(m.$$.fragment,t),L(h.$$.fragment,t),L(v.$$.fragment,t),f=!0)},o(t){N(m.$$.fragment,t),N(h.$$.fragment,t),N(v.$$.fragment,t),f=!1},d(t){t&&u(n),D(m),D(h),D(v)}}}class jt extends H{constructor(t){super(),B(this,t,null,Et,l,{})}}function At(t){let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let t=0;t<n.length;t++){let s=n[t];for(;" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return""}function Ot(t){let e;const n=new jt({});return{c(){S(n.$$.fragment)},m(t,s){R(n,t,s),e=!0},i(t){e||(L(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function Tt(t){let e;const n=new ot({});return{c(){S(n.$$.fragment)},m(t,s){R(n,t,s),e=!0},i(t){e||(L(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function Ft(t){let e;const n=new J({});return{c(){S(n.$$.fragment)},m(t,s){R(n,t,s),e=!0},i(t){e||(L(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function It(t){let e,n,s,o;const l=[Ft,Tt,Ot],r=[];function c(t,e){return"LOGIN"===t[0]?0:"REGISTRATION"===t[0]?1:"AUTHORIZED"===t[0]?2:-1}return~(e=c(t))&&(n=r[e]=l[e](t)),{c(){n&&n.c(),s=f("")},m(t,n){~e&&r[e].m(t,n),i(t,s,n),o=!0},p(t,[o]){let i=e;e=c(t),e!==i&&(n&&(F(),N(r[i],1,1,()=>{r[i]=null}),I()),~e?(n=r[e],n||(n=r[e]=l[e](t),n.c()),L(n,1),n.m(s.parentNode,s)):n=null)},i(t){o||(L(n),o=!0)},o(t){N(n),o=!1},d(t){~e&&r[e].d(t),t&&u(s)}}}function Lt(t,e,n){let s;var o;return r(t,Z,t=>n(0,s=t)),o=async()=>{const t=await fetch("/user",{redirect:"manual"});if(t.ok){let e=await t.json();await X.set(e),await Z.set("AUTHORIZED")}},g().$$.on_mount.push(o),Z.subscribe(async()=>{const t=await fetch("/user");if(t.ok){let e=await t.json();X.set(e),Z.set("AUTHORIZED")}else"AUTHORIZED"===s&&Z.set("LOGIN"),X.set(null)}),function(){const t=At("JSESSIONID"),e=At("XSRF-TOKEN");G.set(t),U.set(e)}(),[s]}return new class extends H{constructor(t){super(),B(this,t,Lt,It,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
